# 设置内外网地址 {#concept_tv3_pq1_ydb .concept}

您可以根据业务需求设置选择实例的连接类型，即内网连接或外网连接。系统会默认提供内网地址，所以本文将主要介绍如何申请外网地址、如何设置内外网的连接地址以及如何释放外网地址。

## 背景信息 {#section_j4h_tq1_ydb .section}

RDS提供两种连接地址，即内网地址和外网地址。实例的[访问模式](intl.zh-CN/用户指南/网络管理/设置访问模式.md#)和[实例规格](../../../../intl.zh-CN/产品简介/实例规格/实例规格表.md)对连接地址的选择有如下限制。

|实例系列|实例版本|访问模式|连接地址|
|:---|:---|:---|:---|
|单机基础版| -   MySQL 5.7
-   SQL Server 2012

 |标准模式| -   内网地址
-   外网地址
-   内网地址和外网地址

 |
|双机高可用版| -   MySQL 5.5/5.6
-   SQL Server 2008 R2
-   PostgreSQL 9.4
-   PPAS 9.3

 |标准模式| -   内网地址
-   外网地址

 |
|高安全模式| -   内网地址
-   外网地址
-   内网地址和外网地址

 |
|金融版|MySQL 5.6|标准模式| -   内网地址
-   外网地址

 |
|高安全模式| -   内网地址
-   外网地址
-   内网地址和外网地址

 |

连接地址的使用场景如下所示：

-   单独使用内网地址：

    -   系统默认提供内网地址，您可以直接修改连接地址。

    -   适用于应用部署在与您的RDS实例在同一地域的ECS上且RDS实例与ECS的[网络类型](intl.zh-CN/用户指南/网络管理/设置网络类型.md#)相同时。

-   单独使用外网地址：

    -   适用于应用部署在与您的RDS在不同地域的ECS上时。

    -   适用于应用部署在阿里云以外的系统上时。

-   同时使用内外网地址：

    -   适用于应用中的模块同时部署在与您的RDS实例在同一地域且[网络类型](intl.zh-CN/用户指南/网络管理/设置网络类型.md#)相同的ECS上和与您的RDS实例在不同地域的ECS上时。

    -   适用于应用中的模块同时部署在与您的RDS实例在同一地域且[网络类型](intl.zh-CN/用户指南/网络管理/设置网络类型.md#)相同的ECS上和阿里云以外的系统上时。


## 注意事项 {#section_ok3_rr1_ydb .section}

-   在访问数据库前，您需要将访问数据库的 IP 地址或者 IP 段加入白名单，操作请参见[设置白名单](intl.zh-CN/用户指南/安全管理/设置白名单.md#)。

-   RDS 会针对外网地址流量收取一定费用，详细收费标准请参见[云数据库 RDS 详细价格信息](https://www.alibabacloud.com/product/apsaradb-for-rds?spm=a3c0i.7938564.220486.3.FrsJgg#pricing)。

-   外网地址会降低实例的安全性，请谨慎选择。为了获得更快的传输速率和更高的安全级别，建议您将应用迁移到与您的 RDS 在同一地域的阿里云服务器 ECS 上。


## 申请外网地址 {#section_adc_sr1_ydb .section}

1.  登录[RDS 管理控制台](https://rds.console.aliyun.com/) 。
2.  选择目标实例所在地域。
3.  单击目标实例的 ID，进入基本信息页面。
4.  在左侧导航栏中选择数据库连接，进入数据库连接页面。
5.  单击**申请外网地址**，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7945/3991_zh-CN.png)

6.  在弹出的信息确认框中单击**确定**，生成外网地址。

## 修改内外网连接地址 {#section_upj_cs1_ydb .section}

您可以根据需求修改内网或者外网的连接地址，操作步骤如下。

1.  登录 [RDS 管理控制台](https://rds.console.aliyun.com/)。
2.  选择目标实例所在地域。
3.  单击目标实例的 ID，进入基本信息页面。
4.  选择菜单中的数据库连接，进入数据库连接页面。
5.  选择实例连接标签页。
6.  在数据库连接模块中单击**修改连接地址**。
7.  在弹出的窗口中设置内外网连接地址及端口号，单击**确定**，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7945/3992_zh-CN.png)

    参数说明：

    -   连接类型：根据需要修改的连接类型选择内网地址或者外网地址。

    -   连接地址：地址样式为xxx.sqlserver.rds.aliyuncs.com，其中xxx为自定义字段，由字母和数字组成，开头需小写字母，8~64 个字符，如extranet4example。

    -   端口：RDS 对外提供服务的端口号，取值范围是3200~3999之间的任意一个整数。


## 释放外网地址 {#section_pjm_ps1_ydb .section}

若您需要释放外网地址，可执行如下操作步骤。

**说明：** 该操作只能在高安全模式下执行。关于访问模式的设置，请参见[设置访问模式](intl.zh-CN/用户指南/网络管理/设置访问模式.md#)。

1.  登录 [RDS 管理控制台](https://rds.console.aliyun.com/)。
2.  选择目标实例所在地域。
3.  单击目标实例的 ID，进入基本信息页面。
4.  选择菜单中的数据库连接，进入数据库连接页面。
5.  选择实例连接标签页。
6.  在数据库连接模块中单击**释放外网地址**，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7945/3993_zh-CN.png)

7.  在弹出的确认信息界面单击**确认**，释放外网地址。

